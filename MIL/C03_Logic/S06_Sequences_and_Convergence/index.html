<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.31"><title>S06 Sequences and Convergence - MIL</title><link rel=stylesheet href=../../../assets/stylesheets/main.3cba04c6.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/css/custom.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=green data-md-color-accent=light-green> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#sequences-and-convergence class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=MIL class="md-header__button md-logo" aria-label=MIL data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> MIL </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> S06 Sequences and Convergence </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hmyuuu/MIL-zh-demo title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> MIL-zh-demo </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../en/ class=md-tabs__link> 目录 </a> </li> <li class=md-tabs__item> <a href=../../../en/C01_Introduction/ class=md-tabs__link> Introduction </a> </li> <li class=md-tabs__item> <a href=../../../en/C02_Basics/ class=md-tabs__link> Basics </a> </li> <li class=md-tabs__item> <a href=../../../en/C03_Logic/ class=md-tabs__link> Logic </a> </li> <li class=md-tabs__item> <a href=../../../en/C04_Sets_and_Functions/ class=md-tabs__link> Sets and Functions </a> </li> <li class=md-tabs__item> <a href=../../../en/C05_Elementary_Number_Theory/ class=md-tabs__link> Elementary Number Theory </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=MIL class="md-nav__button md-logo" aria-label=MIL data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> MIL </label> <div class=md-nav__source> <a href=https://github.com/hmyuuu/MIL-zh-demo title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> MIL-zh-demo </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../en/ class=md-nav__link> <span class=md-ellipsis> 目录 </span> </a> </li> <li class=md-nav__item> <a href=../../../en/C01_Introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../../en/C02_Basics/ class=md-nav__link> <span class=md-ellipsis> Basics </span> </a> </li> <li class=md-nav__item> <a href=../../../en/C03_Logic/ class=md-nav__link> <span class=md-ellipsis> Logic </span> </a> </li> <li class=md-nav__item> <a href=../../../en/C04_Sets_and_Functions/ class=md-nav__link> <span class=md-ellipsis> Sets and Functions </span> </a> </li> <li class=md-nav__item> <a href=../../../en/C05_Elementary_Number_Theory/ class=md-nav__link> <span class=md-ellipsis> Elementary Number Theory </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#sequences-and-convergence class=md-nav__link> <span class=md-ellipsis> Sequences and Convergence </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>S06 Sequences and Convergence</h1> <h2 id=sequences-and-convergence>Sequences and Convergence<a class=headerlink href=#sequences-and-convergence title="Permanent link">&para;</a></h2> <p>We now have enough skills at our disposal to do some real mathematics. In Lean, we can represent a sequence <span class=arithmatex>\(s_0, s_1, s_2, \ldots\)</span> of real numbers as a function <code>s : ℕ → ℝ</code>. Such a sequence is said to <em>converge</em> to a number :math:<code>a</code> if for every <span class=arithmatex>\(\varepsilon &gt; 0\)</span> there is a point beyond which the sequence remains within <span class=arithmatex>\(\varepsilon\)</span> of <span class=arithmatex>\(a\)</span>, that is, there is a number <span class=arithmatex>\(N\)</span> such that for every <span class=arithmatex>\(n \ge N\)</span>, <span class=arithmatex>\(| s_n - a | &lt; \varepsilon\)</span>. In Lean, we can render this as follows:</p> <div class=highlight><pre><span></span><code><span class=kd>def</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=o>(</span><span class=n>s</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℕ</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℝ</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>a</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>)</span><span class=w> </span><span class=o>:=</span>
<span class=w>  </span><span class=bp>∀</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=bp>&gt;</span><span class=w> </span><span class=mi>0</span><span class=o>,</span><span class=w> </span><span class=bp>∃</span><span class=w> </span><span class=n>N</span><span class=o>,</span><span class=w> </span><span class=bp>∀</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>≥</span><span class=w> </span><span class=n>N</span><span class=o>,</span><span class=w> </span><span class=bp>|</span><span class=n>s</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=n>a</span><span class=bp>|</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=n>ε</span>
</code></pre></div> <p>The notation <code>∀ ε &gt; 0, ...</code> is a convenient abbreviation for <code>∀ ε, ε &gt; 0 → ...</code>, and, similarly, <code>∀ n ≥ N, ...</code> abbreviates <code>∀ n, n ≥ N → ...</code>. And remember that <code>ε &gt; 0</code>, in turn, is defined as <code>0 &lt; ε</code>, and <code>n ≥ N</code> is defined as <code>N ≤ n</code>.</p> <p>.. index:: extensionality, ext, tactics ; ext</p> <p>In this section, we'll establish some properties of convergence. But first, we will discuss three tactics for working with equality that will prove useful. The first, the <code>ext</code> tactic, gives us a way of proving that two functions are equal. Let <span class=arithmatex>\(f(x) = x + 1\)</span> and <span class=arithmatex>\(g(x) = 1 + x\)</span> be functions from reals to reals. Then, of course, <span class=arithmatex>\(f = g\)</span>, because they return the same value for every <span class=arithmatex>\(x\)</span>. The <code>ext</code> tactic enables us to prove an equation between functions by proving that their values are the same at all the values of their arguments.</p> <div class=highlight><pre><span></span><code><span class=kd>example</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=o>(</span><span class=k>fun</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=w> </span><span class=bp>↦</span><span class=w> </span><span class=o>(</span><span class=n>x</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=n>y</span><span class=o>)</span><span class=w> </span><span class=bp>^</span><span class=w> </span><span class=mi>2</span><span class=o>)</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=k>fun</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=w> </span><span class=bp>↦</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>^</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=bp>^</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>  </span><span class=n>ext</span>
<span class=w>  </span><span class=n>ring</span>
</code></pre></div> <p>.. index:: congr, tactics ; congr</p> <p>We'll see later that <code>ext</code> is actually more general, and also one can specify the name of the variables that appear. For instance you can try to replace <code>ext</code> with <code>ext u v</code> in the above proof. The second tactic, the <code>congr</code> tactic, allows us to prove an equation between two expressions by reconciling the parts that are different:</p> <div class=highlight><pre><span></span><code><span class=kd>example</span><span class=w> </span><span class=o>(</span><span class=n>a</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=bp>|</span><span class=n>a</span><span class=bp>|</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=bp>|</span><span class=n>a</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=n>b</span><span class=bp>|</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>  </span><span class=n>congr</span>
<span class=w>  </span><span class=n>ring</span>
</code></pre></div> <p>Here the <code>congr</code> tactic peels off the <code>abs</code> on each side, leaving us to prove <code>a = a - b + b</code>.</p> <p>.. index:: convert, tactics ; convert</p> <p>Finally, the <code>convert</code> tactic is used to apply a theorem to a goal when the conclusion of the theorem doesn't quite match. For example, suppose we want to prove <code>a &lt; a * a</code> from <code>1 &lt; a</code>. A theorem in the library, <code>mul_lt_mul_right</code>, will let us prove <code>1 * a &lt; a * a</code>. One possibility is to work backwards and rewrite the goal so that it has that form. Instead, the <code>convert</code> tactic lets us apply the theorem as it is, and leaves us with the task of proving the equations that are needed to make the goal match.</p> <div class=highlight><pre><span></span><code><span class=kd>example</span><span class=w> </span><span class=o>{</span><span class=n>a</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span><span class=w> </span><span class=o>(</span><span class=n>h</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=n>a</span><span class=o>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>  </span><span class=n>convert</span><span class=w> </span><span class=o>(</span><span class=n>mul_lt_mul_right</span><span class=w> </span><span class=n>_</span><span class=o>)</span><span class=bp>.</span><span class=mi>2</span><span class=w> </span><span class=n>h</span>
<span class=w>  </span><span class=bp>·</span><span class=w> </span><span class=n>rw</span><span class=w> </span><span class=o>[</span><span class=n>one_mul</span><span class=o>]</span>
<span class=w>  </span><span class=n>exact</span><span class=w> </span><span class=n>lt_trans</span><span class=w> </span><span class=n>zero_lt_one</span><span class=w> </span><span class=n>h</span>
</code></pre></div> <p>This example illustrates another useful trick: when we apply an expression with an underscore and Lean can't fill it in for us automatically, it simply leaves it for us as another goal.</p> <p>The following shows that any constant sequence <span class=arithmatex>\(a, a, a, \ldots\)</span> converges.</p> <div class=highlight><pre><span></span><code><span class=kd>theorem</span><span class=w> </span><span class=n>convergesTo_const</span><span class=w> </span><span class=o>(</span><span class=n>a</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=o>(</span><span class=k>fun</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℕ</span><span class=w> </span><span class=bp>↦</span><span class=w> </span><span class=n>a</span><span class=o>)</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>  </span><span class=n>intro</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=n>εpos</span>
<span class=w>  </span><span class=n>use</span><span class=w> </span><span class=mi>0</span>
<span class=w>  </span><span class=n>intro</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=n>nge</span>
<span class=w>  </span><span class=n>rw</span><span class=w> </span><span class=o>[</span><span class=n>sub_self</span><span class=o>,</span><span class=w> </span><span class=n>abs_zero</span><span class=o>]</span>
<span class=w>  </span><span class=n>apply</span><span class=w> </span><span class=n>εpos</span>
</code></pre></div> <p>Lean has a tactic, <code>simp</code>, which can often save you the trouble of carrying out steps like <code>rw [sub_self, abs_zero]</code> by hand. We will tell you more about it soon.</p> <p>For a more interesting theorem, let's show that if <code>s</code> converges to <code>a</code> and <code>t</code> converges to <code>b</code>, then <code>fun n ↦ s n + t n</code> converges to <code>a + b</code>. It is helpful to have a clear pen-and-paper proof in mind before you start writing a formal one. Given <code>ε</code> greater than <code>0</code>, the idea is to use the hypotheses to obtain an <code>Ns</code> such that beyond that point, <code>s</code> is within <code>ε / 2</code> of <code>a</code>, and an <code>Nt</code> such that beyond that point, <code>t</code> is within <code>ε / 2</code> of <code>b</code>. Then, whenever <code>n</code> is greater than or equal to the maximum of <code>Ns</code> and <code>Nt</code>, the sequence <code>fun n ↦ s n + t n</code> should be within <code>ε</code> of <code>a + b</code>. The following example begins to implement this strategy. See if you can finish it off.</p> <div class=highlight><pre><span></span><code><span class=kd>theorem</span><span class=w> </span><span class=n>convergesTo_add</span><span class=w> </span><span class=o>{</span><span class=n>s</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℕ</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span><span class=w> </span><span class=o>{</span><span class=n>a</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span>
<span class=w>      </span><span class=o>(</span><span class=n>cs</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>a</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>ct</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=n>b</span><span class=o>)</span><span class=w> </span><span class=o>:</span>
<span class=w>    </span><span class=n>ConvergesTo</span><span class=w> </span><span class=o>(</span><span class=k>fun</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>↦</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=n>n</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>a</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=n>b</span><span class=o>)</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>  </span><span class=n>intro</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=n>εpos</span>
<span class=w>  </span><span class=n>dsimp</span><span class=w> </span><span class=c1>-- this line is not needed but cleans up the goal a bit.</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=n>ε2pos</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span><span class=w> </span><span class=n>linarith</span>
<span class=w>  </span><span class=n>rcases</span><span class=w> </span><span class=n>cs</span><span class=w> </span><span class=o>(</span><span class=n>ε</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=o>)</span><span class=w> </span><span class=n>ε2pos</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=o>⟨</span><span class=n>Ns</span><span class=o>,</span><span class=w> </span><span class=n>hs</span><span class=o>⟩</span>
<span class=w>  </span><span class=n>rcases</span><span class=w> </span><span class=n>ct</span><span class=w> </span><span class=o>(</span><span class=n>ε</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=o>)</span><span class=w> </span><span class=n>ε2pos</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=o>⟨</span><span class=n>Nt</span><span class=o>,</span><span class=w> </span><span class=n>ht</span><span class=o>⟩</span>
<span class=w>  </span><span class=n>use</span><span class=w> </span><span class=n>max</span><span class=w> </span><span class=n>Ns</span><span class=w> </span><span class=n>Nt</span>
<span class=w>  </span><span class=gr>sorry</span>
</code></pre></div> <p>As hints, you can use <code>le_of_max_le_left</code> and <code>le_of_max_le_right</code>, and <code>norm_num</code> can prove <code>ε / 2 + ε / 2 = ε</code>. Also, it is helpful to use the <code>congr</code> tactic to show that <code>|s n + t n - (a + b)|</code> is equal to <code>|(s n - a) + (t n - b)|,</code> since then you can use the triangle inequality. Notice that we marked all the variables <code>s</code>, <code>t</code>, <code>a</code>, and <code>b</code> implicit because they can be inferred from the hypotheses.</p> <p>Proving the same theorem with multiplication in place of addition is tricky. We will get there by proving some auxiliary statements first. See if you can also finish off the next proof, which shows that if <code>s</code> converges to <code>a</code>, then <code>fun n ↦ c * s n</code> converges to <code>c * a</code>. It is helpful to split into cases depending on whether <code>c</code> is equal to zero or not. We have taken care of the zero case, and we have left you to prove the result with the extra assumption that <code>c</code> is nonzero.</p> <div class=highlight><pre><span></span><code><span class=kd>theorem</span><span class=w> </span><span class=n>convergesTo_mul_const</span><span class=w> </span><span class=o>{</span><span class=n>s</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℕ</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span><span class=w> </span><span class=o>{</span><span class=n>a</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span><span class=w> </span><span class=o>(</span><span class=n>c</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>cs</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>a</span><span class=o>)</span><span class=w> </span><span class=o>:</span>
<span class=w>    </span><span class=n>ConvergesTo</span><span class=w> </span><span class=o>(</span><span class=k>fun</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>↦</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>n</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>c</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>a</span><span class=o>)</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>  </span><span class=n>by_cases</span><span class=w> </span><span class=n>h</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=mi>0</span>
<span class=w>  </span><span class=bp>·</span><span class=w> </span><span class=n>convert</span><span class=w> </span><span class=n>convergesTo_const</span><span class=w> </span><span class=mi>0</span>
<span class=w>    </span><span class=bp>·</span><span class=w> </span><span class=n>rw</span><span class=w> </span><span class=o>[</span><span class=n>h</span><span class=o>]</span>
<span class=w>      </span><span class=n>ring</span>
<span class=w>    </span><span class=n>rw</span><span class=w> </span><span class=o>[</span><span class=n>h</span><span class=o>]</span>
<span class=w>    </span><span class=n>ring</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=n>acpos</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=bp>|</span><span class=n>c</span><span class=bp>|</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=n>abs_pos.mpr</span><span class=w> </span><span class=n>h</span>
<span class=w>  </span><span class=gr>sorry</span>
</code></pre></div> <p>The next theorem is also independently interesting: it shows that a convergent sequence is eventually bounded in absolute value. We have started you off; see if you can finish it.</p> <div class=highlight><pre><span></span><code><span class=kd>theorem</span><span class=w> </span><span class=n>exists_abs_le_of_convergesTo</span><span class=w> </span><span class=o>{</span><span class=n>s</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℕ</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span><span class=w> </span><span class=o>{</span><span class=n>a</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span><span class=w> </span><span class=o>(</span><span class=n>cs</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>a</span><span class=o>)</span><span class=w> </span><span class=o>:</span>
<span class=w>    </span><span class=bp>∃</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=n>b</span><span class=o>,</span><span class=w> </span><span class=bp>∀</span><span class=w> </span><span class=n>n</span><span class=o>,</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=bp>≤</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=bp>|</span><span class=n>s</span><span class=w> </span><span class=n>n</span><span class=bp>|</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>  </span><span class=n>rcases</span><span class=w> </span><span class=n>cs</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>zero_lt_one</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=o>⟨</span><span class=n>N</span><span class=o>,</span><span class=w> </span><span class=n>h</span><span class=o>⟩</span>
<span class=w>  </span><span class=n>use</span><span class=w> </span><span class=n>N</span><span class=o>,</span><span class=w> </span><span class=bp>|</span><span class=n>a</span><span class=bp>|</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=mi>1</span>
<span class=w>  </span><span class=gr>sorry</span>
</code></pre></div> <p>In fact, the theorem could be strengthened to assert that there is a bound <code>b</code> that holds for all values of <code>n</code>. But this version is strong enough for our purposes, and we will see at the end of this section that it holds more generally.</p> <p>The next lemma is auxiliary: we prove that if <code>s</code> converges to <code>a</code> and <code>t</code> converges to <code>0</code>, then <code>fun n ↦ s n * t n</code> converges to <code>0</code>. To do so, we use the previous theorem to find a <code>B</code> that bounds <code>s</code> beyond some point <code>N₀</code>. See if you can understand the strategy we have outlined and finish the proof.</p> <div class=highlight><pre><span></span><code><span class=kd>theorem</span><span class=w> </span><span class=n>aux</span><span class=w> </span><span class=o>{</span><span class=n>s</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℕ</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span><span class=w> </span><span class=o>{</span><span class=n>a</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span><span class=w> </span><span class=o>(</span><span class=n>cs</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>a</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>ct</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=mi>0</span><span class=o>)</span><span class=w> </span><span class=o>:</span>
<span class=w>    </span><span class=n>ConvergesTo</span><span class=w> </span><span class=o>(</span><span class=k>fun</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>↦</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=n>n</span><span class=o>)</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>  </span><span class=n>intro</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=n>εpos</span>
<span class=w>  </span><span class=n>dsimp</span>
<span class=w>  </span><span class=n>rcases</span><span class=w> </span><span class=n>exists_abs_le_of_convergesTo</span><span class=w> </span><span class=n>cs</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=o>⟨</span><span class=n>N₀</span><span class=o>,</span><span class=w> </span><span class=n>B</span><span class=o>,</span><span class=w> </span><span class=n>h₀</span><span class=o>⟩</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=n>Bpos</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=n>B</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=n>lt_of_le_of_lt</span><span class=w> </span><span class=o>(</span><span class=n>abs_nonneg</span><span class=w> </span><span class=n>_</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>h₀</span><span class=w> </span><span class=n>N₀</span><span class=w> </span><span class=o>(</span><span class=n>le_refl</span><span class=w> </span><span class=n>_</span><span class=o>))</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=n>pos₀</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=n>B</span><span class=w> </span><span class=bp>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=n>div_pos</span><span class=w> </span><span class=n>εpos</span><span class=w> </span><span class=n>Bpos</span>
<span class=w>  </span><span class=n>rcases</span><span class=w> </span><span class=n>ct</span><span class=w> </span><span class=n>_</span><span class=w> </span><span class=n>pos₀</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=o>⟨</span><span class=n>N₁</span><span class=o>,</span><span class=w> </span><span class=n>h₁</span><span class=o>⟩</span>
<span class=w>  </span><span class=gr>sorry</span>
</code></pre></div> <p>If you have made it this far, congratulations! We are now within striking distance of our theorem. The following proof finishes it off.</p> <div class=highlight><pre><span></span><code><span class=c1>-- BOTH:</span>
<span class=kd>theorem</span><span class=w> </span><span class=n>convergesTo_mul</span><span class=w> </span><span class=o>{</span><span class=n>s</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℕ</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span><span class=w> </span><span class=o>{</span><span class=n>a</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span>
<span class=w>      </span><span class=o>(</span><span class=n>cs</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>a</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>ct</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=n>b</span><span class=o>)</span><span class=w> </span><span class=o>:</span>
<span class=w>    </span><span class=n>ConvergesTo</span><span class=w> </span><span class=o>(</span><span class=k>fun</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>↦</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=n>n</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>a</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=n>b</span><span class=o>)</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=n>h₁</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=o>(</span><span class=k>fun</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>↦</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>*</span><span class=w> </span><span class=o>(</span><span class=n>t</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>+</span><span class=w> </span><span class=bp>-</span><span class=n>b</span><span class=o>))</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>    </span><span class=n>apply</span><span class=w> </span><span class=n>aux</span><span class=w> </span><span class=n>cs</span>
<span class=w>    </span><span class=n>convert</span><span class=w> </span><span class=n>convergesTo_add</span><span class=w> </span><span class=n>ct</span><span class=w> </span><span class=o>(</span><span class=n>convergesTo_const</span><span class=w> </span><span class=o>(</span><span class=bp>-</span><span class=n>b</span><span class=o>))</span>
<span class=w>    </span><span class=n>ring</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=n>convergesTo_add</span><span class=w> </span><span class=n>h₁</span><span class=w> </span><span class=o>(</span><span class=n>convergesTo_mul_const</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=n>cs</span><span class=o>)</span>
<span class=w>  </span><span class=n>convert</span><span class=w> </span><span class=n>convergesTo_add</span><span class=w> </span><span class=n>h₁</span><span class=w> </span><span class=o>(</span><span class=n>convergesTo_mul_const</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=n>cs</span><span class=o>)</span><span class=w> </span><span class=n>using</span><span class=w> </span><span class=mi>1</span>
<span class=w>  </span><span class=bp>·</span><span class=w> </span><span class=n>ext</span><span class=bp>;</span><span class=w> </span><span class=n>ring</span>
<span class=w>  </span><span class=n>ring</span>
</code></pre></div> <p>For another challenging exercise, try filling out the following sketch of a proof that limits are unique. (If you are feeling bold, you can delete the proof sketch and try proving it from scratch.)</p> <div class=highlight><pre><span></span><code><span class=kd>theorem</span><span class=w> </span><span class=n>convergesTo_unique</span><span class=w> </span><span class=o>{</span><span class=n>s</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℕ</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span><span class=w> </span><span class=o>{</span><span class=n>a</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>}</span>
<span class=w>      </span><span class=o>(</span><span class=n>sa</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>a</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>sb</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ConvergesTo</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=n>b</span><span class=o>)</span><span class=w> </span><span class=o>:</span>
<span class=w>    </span><span class=n>a</span><span class=w> </span><span class=bp>=</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>  </span><span class=n>by_contra</span><span class=w> </span><span class=n>abne</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=bp>|</span><span class=n>a</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=n>b</span><span class=bp>|</span><span class=w> </span><span class=bp>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span><span class=w> </span><span class=gr>sorry</span>
<span class=w>  </span><span class=k>let</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=bp>|</span><span class=n>a</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=n>b</span><span class=bp>|</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=n>εpos</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=bp>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span>
<span class=w>    </span><span class=n>change</span><span class=w> </span><span class=bp>|</span><span class=n>a</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=n>b</span><span class=bp>|</span><span class=w> </span><span class=bp>/</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=bp>&gt;</span><span class=w> </span><span class=mi>0</span>
<span class=w>    </span><span class=n>linarith</span>
<span class=w>  </span><span class=n>rcases</span><span class=w> </span><span class=n>sa</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=n>εpos</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=o>⟨</span><span class=n>Na</span><span class=o>,</span><span class=w> </span><span class=n>hNa</span><span class=o>⟩</span>
<span class=w>  </span><span class=n>rcases</span><span class=w> </span><span class=n>sb</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=n>εpos</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=o>⟨</span><span class=n>Nb</span><span class=o>,</span><span class=w> </span><span class=n>hNb</span><span class=o>⟩</span>
<span class=w>  </span><span class=k>let</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=n>max</span><span class=w> </span><span class=n>Na</span><span class=w> </span><span class=n>Nb</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=n>absa</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=bp>|</span><span class=n>s</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=n>a</span><span class=bp>|</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span><span class=w> </span><span class=gr>sorry</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=n>absb</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=bp>|</span><span class=n>s</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=n>b</span><span class=bp>|</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span><span class=w> </span><span class=gr>sorry</span>
<span class=w>  </span><span class=k>have</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=bp>|</span><span class=n>a</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=n>b</span><span class=bp>|</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=bp>|</span><span class=n>a</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=n>b</span><span class=bp>|</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>by</span><span class=w> </span><span class=gr>sorry</span>
<span class=w>  </span><span class=n>exact</span><span class=w> </span><span class=n>lt_irrefl</span><span class=w> </span><span class=n>_</span><span class=w> </span><span class=n>this</span>
</code></pre></div> <p>We close the section with the observation that our proofs can be generalized. For example, the only properties that we have used of the natural numbers is that their structure carries a partial order with <code>min</code> and <code>max</code>. You can check that everything still works if you replace <code>ℕ</code> everywhere by any linear order <code>α</code>:</p> <div class=highlight><pre><span></span><code><span class=kd>variable</span><span class=w> </span><span class=o>{</span><span class=n>α</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=kt>Type</span><span class=bp>*</span><span class=o>}</span><span class=w> </span><span class=o>[</span><span class=n>LinearOrder</span><span class=w> </span><span class=n>α</span><span class=o>]</span>

<span class=kd>def</span><span class=w> </span><span class=n>ConvergesTo&#39;</span><span class=w> </span><span class=o>(</span><span class=n>s</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>α</span><span class=w> </span><span class=bp>→</span><span class=w> </span><span class=n>ℝ</span><span class=o>)</span><span class=w> </span><span class=o>(</span><span class=n>a</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>ℝ</span><span class=o>)</span><span class=w> </span><span class=o>:=</span>
<span class=w>  </span><span class=bp>∀</span><span class=w> </span><span class=n>ε</span><span class=w> </span><span class=bp>&gt;</span><span class=w> </span><span class=mi>0</span><span class=o>,</span><span class=w> </span><span class=bp>∃</span><span class=w> </span><span class=n>N</span><span class=o>,</span><span class=w> </span><span class=bp>∀</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>≥</span><span class=w> </span><span class=n>N</span><span class=o>,</span><span class=w> </span><span class=bp>|</span><span class=n>s</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=bp>-</span><span class=w> </span><span class=n>a</span><span class=bp>|</span><span class=w> </span><span class=bp>&lt;</span><span class=w> </span><span class=n>ε</span>
</code></pre></div> <p>In :numref:<code>filters</code>, we will see that Mathlib has mechanisms for dealing with convergence in vastly more general terms, not only abstracting away particular features of the domain and codomain, but also abstracting over different types of convergence.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.instant", "search.highlight", "search.share", "content.code.copy", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.fe8b6f2b.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>